:root{
  --bg:#f7faf9;
  --panel:#ffffff;
  --text:#0b1b16;
  --muted:#5b6b64;
  --line:#e6efeb;
  --green:#18a058;
  --green-600:#12864b;
  --green-50:#e9f7ef;
  --placeholder:#9aa8a2;
  --shadow:0 10px 25px rgba(0,0,0,0.06);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.topbar{position:sticky; top:0; z-index:10; background:#ffffffcc; backdrop-filter:saturate(1.2) blur(6px); border-bottom:1px solid var(--line)}
.brand{display:flex;align-items:center;gap:10px;padding:12px 18px;}
.brand-name{font-weight:700;letter-spacing:.2px}

/* ---- Layout: zwei gleich breite Spalten ---- */
.container{
  max-width:1680px;
  margin:24px auto;
  padding:0 16px;
  display:grid;
  grid-template-columns: 1fr 1fr; /* Eingaben & Expos gleich breit */
  gap:18px;
}

/* Panels */
.panel{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow:var(--shadow);
  padding:18px;
}
.panel h2{margin:0 0 10px 0;font-size:18px}

/* Keine erzwungenen Minimalbreiten mehr – Spalten teilen sich den Platz */
.panel-input,
.panel-output{ min-width:0 }

@media (max-width:1200px){
  .container{ grid-template-columns:1fr }
}

/* ---- Form ---- */
.form-group{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-bottom:12px;
  min-width:0;
}
label{font-weight:600;font-size:13px;color:var(--muted)}

/* exclude range from generic input rule */
input:not([type=range]),select,textarea{
  width:100%;
  background:#fff;
  border:1px solid var(--line);
  border-radius:10px;
  padding:10px 12px;
  font-size:14px;
  line-height:1.4;
  font-family:inherit;
  color:var(--text);
  outline:none;
}
input:not([type=range]):focus,select:focus,textarea:focus{
  border-color:var(--green);
  box-shadow:0 0 0 3px var(--green-50)
}

/* Textareas autogrow: keine Scrollbalken, Höhe via JS */
textarea{resize:none; overflow:hidden; min-height:42px}

/* 1-zeilige Autogrow-Variante (z. B. „Vorgaben & Ausschlüsse“) */
textarea.autogrow{
  resize:none;
  overflow:hidden;
  line-height:1.4;
  min-height:42px; 
}

input::placeholder, textarea::placeholder{font:inherit; color:var(--placeholder); opacity:1}

.grid{display:grid; gap:12px}
.grid-2{grid-template-columns:1fr 1fr}
.grid-3{grid-template-columns:1fr 1fr 1fr}
@media (max-width:900px){.grid-2,.grid-3{grid-template-columns:1fr}}

/* ---- Sliders ---- */
.sliders-row .form-group > label{ text-align:center }
.sliders-row .range-val{ text-align:center; font-size:12px; color:var(--muted) }
.sliders-row input[type=range]{ -webkit-appearance:none; appearance:none; width:100%; background:transparent; border:none; padding:0; margin:0; height:24px }
.sliders-row input[type=range]::-webkit-slider-runnable-track{ height:8px; background:#eef5f2; border-radius:999px }
.sliders-row input[type=range]::-moz-range-track{ height:8px; background:#eef5f2; border-radius:999px }
.sliders-row input[type=range]::-moz-range-progress{ height:8px; background:var(--green); border-radius:999px }
.sliders-row input[type=range]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%; background:var(--green); border:2px solid #fff; margin-top:-5px }
.sliders-row input[type=range]::-moz-range-thumb{ width:18px; height:18px; border-radius:50%; background:var(--green); border:2px solid #fff }

/* ---- Segmented Controls – zentriert ---- */
.segwrap{ align-items:center }
.segwrap .seg-label{ font-weight:600; font-size:13px; color:var(--muted); text-align:center }
.segmented{
  display:inline-flex; justify-content:center; align-items:center; flex-wrap:wrap;
  gap:6px; background:#f3faf6; border:1px solid var(--line); border-radius:999px; padding:6px;
  min-width:0; max-width:100%; margin:0 auto
}
.segmented input{display:none}
.segmented label{ padding:6px 10px; border-radius:999px; border:1px solid transparent; font-size:13px; cursor:pointer; white-space:nowrap }
.segmented input:checked + label{ background:var(--green); color:#fff; border-color:var(--green) }
.segmented.compact { padding:4px; gap:4px; }
.segmented.compact label{ font-size:10px; padding:4px 4px; }

/* ---- Buttons ---- */
.actions,.export-actions{display:flex;gap:10px;align-items:center;margin-top:4px;flex-wrap:wrap}
.btn{border:1px solid var(--line);background:#fff;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
.btn:hover{box-shadow:0 2px 12px rgba(0,0,0,.05)}
.btn-primary{background:var(--green);color:#fff;border-color:var(--green)}
.btn-primary:hover{background:var(--green-600)}
.btn-secondary{background:#f2fbf6;border-color:var(--green);color:var(--green)}
.btn-ghost{background:transparent}

/* ---- Expo list ---- */
.expo-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px}
.expo-placeholder{padding:14px;border:1px dashed var(--line);border-radius:12px;color:var(--muted);text-align:center}
.expo-akkordeon{border:1px solid var(--line);border-radius:12px;overflow:hidden;background:#fff}
.expo-akk-header{display:flex;align-items:center;gap:8px;padding:10px 12px;background:#f7fbf9}
.expo-akk-index{font-weight:700;color:var(--green)}
.expo-akk-titel{flex:1;min-width:120px}
.btn-icon{border:none;background:transparent;cursor:pointer}
.btn-expand{margin-left:auto}
.expo-akk-body{display:none;border-top:1px solid var(--line);padding:12px}
.expo-akkordeon.open .expo-akk-body{display:block}

/* Form-Anmutung auch innerhalb der Expo-Karten */
.expo-akk-body .form-group{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin:12px 0;
}
.expo-akk-body .form-group label{
  font-weight:600;
  font-size:13px;
  color:var(--muted);
}

/* Vorschau des gerenderten Texts */
.preview-box{
  margin-top:8px;
  padding:12px;
  border:1px solid var(--line);
  border-radius:12px;
  background:#fff;
}
.preview-box h1, .preview-box h2, .preview-box h3{ margin-top:0.6em }
.preview-box p{ margin:0.4em 0 }

/* ---- toast ---- */
.toast{
  position:fixed; bottom:20px; right:20px;
  background:#101a14; color:#fff; padding:10px 14px;
  border-radius:12px; box-shadow:0 10px 25px rgba(0,0,0,.18);
  animation:toast-in .2s ease-out
}
@keyframes toast-in{from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:translateY(0)}}

/* Header rechts im Akkordeon */
.akk-right{
  display:flex;
  align-items:center;
  gap:8px;
  margin-left:auto;
}

/* kleiner Quick-Button mit „KI“-Look */
.btn-chip{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:28px;
  height:28px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#fff;
  cursor:pointer;
  font-size:14px;
}
.btn-chip:hover{ box-shadow:0 2px 10px rgba(0,0,0,.05) }

/* Spinner */
.spinner{
  width:18px; height:18px;
  border:2px solid #dfe9e5;
  border-top-color: var(--green);
  border-radius:50%;
  animation: spin .8s linear infinite;
}
.spinner.sm{ width:18px; height:18px; border-width:2px }
@keyframes spin{ to{ transform: rotate(360deg) } }

/* Badge „Text da“ */
.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 8px;
  font-size:12px;
  border-radius:999px;
  border:1px solid var(--line);
}
.badge-success{
  background:#f2fbf6;
  color:var(--green-600);
  border-color: var(--green);
}

/* Pfeil drehen, wenn offen */
.arrow{ display:inline-block; transition: transform .18s ease }
.expo-akkordeon.open .arrow{ transform: rotate(180deg) }
